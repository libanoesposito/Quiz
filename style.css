:root {
    --bg: #f5f5f7; --text: #1d1d1f; --accent: #0071e3;
    --card-bg: rgba(255, 255, 255, 0.45); --border: rgba(255, 255, 255, 0.7);
}
[data-theme="dark"] {
    --bg: #000; --text: #fff; --card-bg: rgba(28, 28, 30, 0.6); --border: rgba(255, 255, 255, 0.1);
}

body { 
    margin: 0; font-family: -apple-system, system-ui, sans-serif; 
    background: var(--bg); color: var(--text); height: 100vh; 
    display: flex; flex-direction: column; align-items: center; overflow: hidden; 
}

.glass-bg { 
    position: fixed; inset: 0; z-index: -1; 
    background: radial-gradient(circle at 20% 30%, rgba(0, 113, 227, 0.15), transparent 40%), 
                radial-gradient(circle at 80% 70%, rgba(162, 0, 255, 0.12), transparent 40%); 
}

.header-main { 
    width: 100%; max-width: 500px; padding: 50px 20px 20px; 
    display: flex; justify-content: space-between; align-items: center; box-sizing: border-box;
}

.nav-slot { flex: 1; }
h1 { font-size: 20px; font-weight: 700; margin: 0; text-align: center; flex: 2; }

.glass-card { 
    background: var(--card-bg); backdrop-filter: blur(40px) saturate(180%); 
    -webkit-backdrop-filter: blur(40px) saturate(180%); 
    border: 1px solid var(--border); border-radius: 35px; padding: 25px; 
    width: calc(100% - 40px); max-width: 440px; flex: 1; 
    margin-bottom: 100px; overflow-y: auto; display: flex; flex-direction: column;
}

.auth-container { display: flex; flex-direction: column; align-items: center; justify-content: center; flex: 1; text-align: center; width: 100%; }

.lang-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; }
.lang-item { 
    background: rgba(120, 120, 128, 0.1); border-radius: 20px; 
    padding: 20px; text-align: center; cursor: pointer; transition: 0.2s;
}

.btn-apple { 
    display: block; width: 100%; padding: 16px; margin-bottom: 10px; 
    background: rgba(120, 120, 128, 0.1); border: none; border-radius: 15px; 
    color: var(--text); font-size: 16px; font-weight: 600; cursor: pointer;
}
.btn-primary { background: var(--accent); color: white; }

.progress-card { background: var(--accent); color: white; border-radius: 20px; padding: 18px; margin-bottom: 20px; width: 100%; box-sizing: border-box; }

.back-link { color: var(--accent); cursor: pointer; font-size: 17px; }

/* Feedback Risposta */
.feedback-box { margin-top: 20px; padding: 20px; border-radius: 20px; animation: fadeIn 0.3s; }
.correct { background: rgba(52, 199, 89, 0.15); border: 1px solid #34c759; }
.wrong { background: rgba(255, 59, 48, 0.15); border: 1px solid #ff3b30; }
pre { background: #000; color: #fff; padding: 12px; border-radius: 10px; font-size: 12px; overflow-x: auto; margin-top: 10px; }

/* Livello 5 Editor */
.code-editor { width: 100%; height: 100px; background: #1e1e1e; color: #34c759; border-radius: 12px; padding: 12px; font-family: monospace; border: none; margin: 15px 0; outline: none; }

/* Switch Tema Minimale */
.theme-footer { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; transition: 0.5s; opacity: 0.05; }
.theme-footer:hover { opacity: 1; }
.ios-switch { scale: 0.6; position: relative; width: 51px; height: 31px; display: block; }
.ios-switch input { opacity: 0; width: 0; height: 0; }
.ios-slider { position: absolute; inset: 0;
